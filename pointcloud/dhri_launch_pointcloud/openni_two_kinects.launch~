<launch>
  <arg name="rgb_camera_info_url"   value="" />
  <arg name="depth_camera_info_url" value="" />
  <arg name="depth_registration" value="true" />
  <arg name="rgb"              value="rgb" />
  <arg name="ir"               value="ir" />
  <arg name="depth"            value="depth" />
  <arg name="depth_registered" value="depth_registered" />
  <arg name="projector"        value="projector" />
  <arg name="load_driver" value="true" />
  <arg name="publish_tf" value="true" />
  <arg name="bond" value="false" />
  <arg name="respawn" value="$(arg bond)" />
  <arg name="debug" value="false" />

  <rosparam command="load" file="$(find ckinect_calibration_stereo)/ckinect_calibration_stereo.yaml" />
  <node name="ckinect_calibration_stereo" pkg="ckinect_calibration_stereo" type="ckinect_calibration_stereo" />

  <include file="$(find openni_launch)/launch/includes/manager.launch">
    <arg name="name" value="camera1_nodelet_manager" />
    <arg name="debug" value="$(arg debug)" />
  </include>

  <group ns="camera1">
    <include if="$(arg load_driver)"
	     file="$(find openni_launch)/launch/includes/device.launch">
      <arg name="manager"               value="/camera1_nodelet_manager" /> 
      <arg name="device_id"             value="A00365811875045A" />
      <arg name="rgb_frame_id"          value="/camera1_rgb_frame" />
      <arg name="depth_frame_id"        value="/camera1_depth_frame" />
      <arg name="rgb_camera_info_url"   value="$(arg rgb_camera_info_url)" />
      <arg name="depth_camera_info_url" value="$(arg depth_camera_info_url)" />
      <arg name="depth_registration"    value="$(arg depth_registration)" />
      <arg name="rgb"                   value="$(arg rgb)" />
      <arg name="ir"                    value="$(arg ir)" />
      <arg name="depth"                 value="$(arg depth)" />
      <arg name="depth_registered"      value="$(arg depth_registered)" />
      <arg name="projector"             value="$(arg projector)" />
      <arg name="respawn"               value="$(arg respawn)" />
    </include>

    <include file="$(find openni_launch)/launch/includes/processing.launch">
      <arg name="manager"               value="/camera1_nodelet_manager" />
      <arg name="rgb"                   value="$(arg rgb)" />
      <arg name="ir"                    value="$(arg ir)" />
      <arg name="depth"                 value="$(arg depth)" />
      <arg name="depth_registered"      value="$(arg depth_registered)" />
      <arg name="projector"             value="$(arg projector)" />
      <arg name="respawn"               value="$(arg respawn)" />
    </include>
  </group>


  <include file="$(find openni_launch)/launch/includes/manager.launch">
    <arg name="name" value="camera2_nodelet_manager" />
    <arg name="debug" value="$(arg debug)" />
  </include>

  <group ns="camera2">
    <include if="$(arg load_driver)"
	     file="$(find openni_launch)/launch/includes/device.launch">
      <arg name="manager"               value="/camera2_nodelet_manager" /> 
      <arg name="device_id"             value="A00365913192045A" />
      <arg name="rgb_frame_id"          value="/camera2_rgb_frame" />
      <arg name="depth_frame_id"        value="/camera2_depth_frame" />
      <arg name="rgb_camera_info_url"   value="$(arg rgb_camera_info_url)" />
      <arg name="depth_camera_info_url" value="$(arg depth_camera_info_url)" />
      <arg name="depth_registration"    value="$(arg depth_registration)" />
      <arg name="rgb"                   value="$(arg rgb)" />
      <arg name="ir"                    value="$(arg ir)" />
      <arg name="depth"                 value="$(arg depth)" />
      <arg name="depth_registered"      value="$(arg depth_registered)" />
      <arg name="projector"             value="$(arg projector)" />
      <arg name="respawn"               value="$(arg respawn)" />
    </include>

    <include file="$(find openni_launch)/launch/includes/processing.launch">
      <arg name="manager"               value="/camera1_nodelet_manager" />
      <arg name="rgb"                   value="$(arg rgb)" />
      <arg name="ir"                    value="$(arg ir)" />
      <arg name="depth"                 value="$(arg depth)" />
      <arg name="depth_registered"      value="$(arg depth_registered)" />
      <arg name="projector"             value="$(arg projector)" />
      <arg name="respawn"               value="$(arg respawn)" />
    </include>
  </group>

</launch>
